@using System.Threading.Tasks

@typeparam T

@code {

    [CascadingParameter]
    public FlareTable<T> FlareTable { get; set; }

    private async Task HandleCheck(string id, ChangeEventArgs args)
    {
        await FlareTable.SetColumnVisibility(id, (bool) args.Value);
    }

}

<div class="FlareTableColumnToggles">
    <TriggerWrapper Trigger="@FlareTable.UpdateTableHead">
        @foreach (Column column in FlareTable.Columns)
        {
            <input type="checkbox" @onchange="@(async args => await HandleCheck(column.ID, args))" checked="@column.Shown"/>
        }
    </TriggerWrapper>
    <span>Column Toggles</span>
</div>