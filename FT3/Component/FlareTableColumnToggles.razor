@using Microsoft.AspNetCore.Components.Web
@using Superset.Common

@typeparam T

@code {

    [CascadingParameter]
    public FlareTable<T> FlareTable { get; set; }

    private void HandleCheck(string id, ChangeEventArgs args)
    {
        Console.WriteLine(args.Value);
        FlareTable.SetColumnVisibility(id, (bool) args.Value);
    }

}

<div class="FlareTableColumnToggles">
    <TriggerWrapper Trigger="@FlareTable.UpdateTableHead">
        @foreach (Column column in FlareTable.Columns)
        {
            <input type="checkbox" @onchange="@(args => HandleCheck(column.ID, args))" checked="@column.Shown"/>
        }
    </TriggerWrapper>
    <span>Column Toggles</span>
</div>